<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–ü—Ä–µ–º–∏—É–º-–∫–ª–∏–µ–Ω—Ç | VIP-SIM.RU</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      }
      body {
        background: linear-gradient(135deg, #fdfbf6, #f5f2e6);
        color: #222;
        padding: 20px;
        min-height: 100vh;
      }
      .container {
        max-width: 600px;
        margin: 40px auto;
        background: white;
        border-radius: 20px;
        padding: 32px;
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
        border: 1px solid #f0e6d2;
      }
      h1 {
        text-align: center;
        margin-bottom: 24px;
        color: #b8860b;
        font-size: 28px;
        font-weight: 700;
      }
      .welcome {
        text-align: center;
        font-size: 18px;
        margin-bottom: 24px;
        color: #444;
      }
      .counter-box {
        background: #fff8e1;
        border: 1px solid #ffd54f;
        border-radius: 12px;
        padding: 16px;
        text-align: center;
        margin: 24px 0;
        font-size: 20px;
        font-weight: 600;
        color: #5d4037;
      }
      .counter-value {
        color: #d4af37;
        font-weight: 800;
      }
      .btn {
        display: block;
        width: 100%;
        padding: 16px;
        margin: 14px 0;
        border: none;
        border-radius: 12px;
        font-size: 17px;
        font-weight: 600;
        cursor: pointer;
        text-align: center;
        text-decoration: none;
        transition: all 0.2s ease;
      }
      .btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      }
      .btn-support {
        background: linear-gradient(135deg, #d4af37, #b8860b);
        color: white;
        font-size: 18px;
      }
      .btn-offer {
        background: #f9f7f0;
        color: #333;
        border: 1px solid #e8e4d9;
      }
      .btn-renew {
        background: #43a047;
        color: white;
      }
      .btn-logout {
        background: #e0e0e0;
        color: #555;
        margin-top: 20px;
      }
      .login-form {
        display: flex;
        flex-direction: column;
        gap: 16px;
      }
      .login-form input {
        padding: 14px;
        border: 1px solid #ddd;
        border-radius: 12px;
        font-size: 16px;
        outline: none;
        transition: border 0.3s;
      }
      .login-form input:focus {
        border-color: #d4af37;
      }
      .login-form button {
        background: linear-gradient(135deg, #d4af37, #b8860b);
        color: white;
        border: none;
        border-radius: 12px;
        padding: 14px;
        font-size: 17px;
        font-weight: 600;
        cursor: pointer;
      }
      .hidden {
        display: none;
      }
      .note {
        text-align: center;
        font-size: 13px;
        color: #888;
        margin-top: 20px;
      }
      .error {
        color: #d32f2f;
        text-align: center;
        margin: 10px 0;
        padding: 10px;
        background: #ffebee;
        border-radius: 8px;
        display: none;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- –≠–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞ -->
      <div id="loginScreen">
        <h1>‚≠ê –ü—Ä–µ–º–∏—É–º-–¥–æ—Å—Ç—É–ø</h1>
        <p style="text-align: center; margin-bottom: 20px; color: #555">
          –í–≤–µ–¥–∏—Ç–µ —Å–≤–æ—ë –∏–º—è (—Ç–æ–ª—å–∫–æ –±—É–∫–≤—ã).<br />
          <small
            >–ú–∞–∫—Å–∏–º—É–º 30 —Å–∏–º–≤–æ–ª–æ–≤. –ò–º—è –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ –æ–±—Ä–∞—â–µ–Ω–∏—è—Ö.</small
          >
        </p>
        <div class="login-form">
          <input
            type="text"
            id="nicknameInput"
            placeholder="–í–∞—à–µ –∏–º—è"
            maxlength="30"
            autocomplete="off"
          />
          <button onclick="enterPremium()">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
        </div>
        <p class="note">
          –ú—ã –Ω–µ —Å–æ–±–∏—Ä–∞–µ–º email, —Ç–µ–ª–µ—Ñ–æ–Ω –∏–ª–∏ –¥—Ä—É–≥–∏–µ –¥–∞–Ω–Ω—ã–µ. –¢–æ–ª—å–∫–æ –∏–º—è –¥–ª—è
          –æ–±—Ä–∞—â–µ–Ω–∏–π.
        </p>
      </div>
      <!-- –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç -->
      <div id="premiumScreen" class="hidden">
        <h1>‚≠ê –ü—Ä–µ–º–∏—É–º-–∫–ª–∏–µ–Ω—Ç</h1>
        <div class="welcome">–ü—Ä–∏–≤–µ—Ç, <span id="displayName">–¥—Ä—É–≥</span>!</div>

        <div class="counter-box">
          –û—Å—Ç–∞–ª–æ—Å—å –æ–±—Ä–∞—â–µ–Ω–∏–π:
          <span class="counter-value" id="counter">10</span>/10
        </div>

        <div id="errorMessage" class="error"></div>

        <button class="btn btn-support" onclick="contactSupport()">
          ‚≠ê –ü—Ä–µ–º–∏—É–º-–ø–æ–¥–¥–µ—Ä–∂–∫–∞
        </button>
        <button class="btn btn-offer">üéÅ –≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ —Å–∫–∏–¥–∫–∏</button>
        <button class="btn btn-offer">üì¶ –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ SIM-–ø–∞–∫–µ—Ç—ã</button>
        <button class="btn btn-renew" onclick="renewAccess()">
          üîÅ –ü—Ä–æ–¥–ª–∏—Ç—å –¥–æ—Å—Ç—É–ø (100 ‚ÇΩ)
        </button>

        <button class="btn btn-logout" onclick="logout()">
          –í—ã–π—Ç–∏ –∏–∑ –∫–∞–±–∏–Ω–µ—Ç–∞
        </button>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const data = getPremiumData();
        if (data && data.remaining >= 0) {
          showPremiumScreen(data);
        } else {
          showLoginScreen();
        }
      });

      function getPremiumData() {
        const raw = localStorage.getItem("premiumData");
        if (!raw) return null;
        try {
          const data = JSON.parse(raw);
          // –ó–∞—â–∏—Ç–∞ –æ—Ç "–≤–æ—Å–∫—Ä–µ—à–µ–Ω–∏—è" –ø–æ—Å–ª–µ –æ–±–Ω—É–ª–µ–Ω–∏—è
          if (data.remaining < 0) return null;
          return data;
        } catch (e) {
          return null;
        }
      }

      function savePremiumData(data) {
        localStorage.setItem("premiumData", JSON.stringify(data));
      }

      function showError(message) {
        const errorEl = document.getElementById('errorMessage');
        errorEl.textContent = message;
        errorEl.style.display = 'block';
        setTimeout(() => {
          errorEl.style.display = 'none';
        }, 5000);
      }

      function enterPremium() {
        const nickname =
          document.getElementById("nicknameInput").value.trim() || "–¥—Ä—É–≥";
        const clientId =
          "client_" +
          Date.now().toString(36) +
          Math.random().toString(36).substr(2, 5);
        const data = {
          clientId: clientId,
          nickname: nickname,
          remaining: 10,
          createdAt: Date.now(),
        };
        savePremiumData(data);
        showPremiumScreen(data);
      }

      function showLoginScreen() {
        document.getElementById("loginScreen").classList.remove("hidden");
        document.getElementById("premiumScreen").classList.add("hidden");
      }

      function showPremiumScreen(data) {
        document.getElementById("displayName").textContent = data.nickname;
        document.getElementById("counter").textContent = data.remaining;
        document.getElementById("loginScreen").classList.add("hidden");
        document.getElementById("premiumScreen").classList.remove("hidden");
      }

      function contactSupport() {
        const data = getPremiumData();
        if (!data || data.remaining <= 0) {
          showError("–û–±—Ä–∞—â–µ–Ω–∏—è –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ–¥–ª–∏—Ç–µ –¥–æ—Å—Ç—É–ø.");
          return;
        }

        const used = 11 - data.remaining;
        
        // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –¥–ª—è –∑–∞—â–∏—Ç—ã
        const requestId = 'req_' + Date.now().toString(36).substr(4, 8);
        
        // –¢–≤–æ–π –∞–≤—Ç–æ—Ç–µ–∫—Å—Ç + –∑–∞—â–∏—Ç–Ω—ã–π –∫–æ–¥
        const message = `üîê [VIP-${requestId}] ‚≠ê –û–±—Ä–∞—â–µ–Ω–∏–µ –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É –ø—Ä–µ–º–∏—É–º-–∫–ª–∏–µ–Ω—Ç–æ–≤ (${used}/10).–ú—ã –æ—Ç–≤–µ—Ç–∏–º –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è. –ó–∞–¥–∞–π—Ç–µ —Å–≤–æ–π –≤–æ–ø—Ä–æ—Å:`;
        
        const encoded = encodeURIComponent(message);
        const telegramUrl = `https://t.me/vipsimsupport?text=${encoded}`;

        data.remaining -= 1;
        savePremiumData(data);
        document.getElementById("counter").textContent = data.remaining;

        window.open(telegramUrl, "_blank", "noopener,noreferrer");
      }

      function renewAccess() {
        alert(
          "–í –Ω–∞—Å—Ç–æ—è—â–µ–π –≤–µ—Ä—Å–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –æ–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ –ÆKassa.\n–ü–æ–∫–∞ ‚Äî –¥–µ–º–æ-—Ä–µ–∂–∏–º: –¥–æ—Å—Ç—É–ø –ø—Ä–æ–¥–ª—ë–Ω!"
        );
        const data = getPremiumData();
        if (data) {
          data.remaining = 10;
          savePremiumData(data);
          document.getElementById("counter").textContent = 10;
        }
      }

      function logout() {
        if (
          confirm(
            "–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–π—Ç–∏? –í—Å–µ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã –∏–∑ —ç—Ç–æ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞."
          )
        ) {
          localStorage.removeItem("premiumData");
          showLoginScreen();
        }
      }
    </script>
  </body>
</html>